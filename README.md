# CNDÂ² - CloudNative Days Ã— Connect 'n' Discover

<div align="center">
  <img src="public/images/trademark@4x.png" alt="CloudNative Days Winter 2025" width="200"/>
  
  **ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®å‡ºä¼šã„ã‚’ã€ãƒ‡ãƒ¼ã‚¿ã§å¯è¦–åŒ–ã™ã‚‹**
  
  [![Next.js](https://img.shields.io/badge/Next.js-15.5.0-black?logo=next.js)](https://nextjs.org/)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?logo=typescript)](https://www.typescriptlang.org/)
  [![Tailwind CSS](https://img.shields.io/badge/Tailwind-4.0-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)
  [![Jest](https://img.shields.io/badge/Jest-30.0-C21325?logo=jest)](https://jestjs.io/)
  [![License](https://img.shields.io/badge/License-Apache%202.0-green.svg)](https://opensource.org/licenses/Apache-2.0)
  
  **#CNDxCnD**
</div>

## ğŸ“‹ æ¦‚è¦

**CNDÂ²ï¼ˆCloudNative Days Ã— Connect 'n' Discoverï¼‰** ã¯ã€CloudNative Days Winter 2025ï¼ˆ11æœˆ18-19æ—¥ @ æ±äº¬ï¼‰ã®ãŸã‚ã®ç‰¹åˆ¥ãªç›¸æ€§è¨ºæ–­ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Prairie Cardã®æƒ…å ±ã‚’åŸºã«ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢åŒå£«ã®æŠ€è¡“çš„ãªç›¸æ€§ã‚„å”åƒã®å¯èƒ½æ€§ã‚’å¯è¦–åŒ–ã—ã€ã€Œå‡ºä¼šã„ã‚’äºŒä¹—ã§ã‚¹ã‚±ãƒ¼ãƒ«ã€ã—ã¾ã™ã€‚

### âœ¨ ä¸»ãªæ©Ÿèƒ½

- **2äººè¨ºæ–­ãƒ¢ãƒ¼ãƒ‰**: 2äººã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ç›¸æ€§ã‚’è©³ç´°ã«åˆ†æ
- **ã‚°ãƒ«ãƒ¼ãƒ—è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰**: 3-6äººã®ãƒãƒ¼ãƒ ã®ç›¸æ€§ã¨å”åƒå¯èƒ½æ€§ã‚’è©•ä¾¡ï¼ˆ6äººãªã‚‰6Â²=36é€šã‚Šã®ç›¸æ€§ï¼‰
- **Prairie Cardé€£æº**: Prairie Cardã‹ã‚‰è‡ªå‹•çš„ã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’å–å¾—
- **AIè¨ºæ–­**: OpenAI GPT-4ã‚’ä½¿ç”¨ã—ãŸé«˜åº¦ãªç›¸æ€§åˆ†æï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ä»˜ãï¼‰
- **çµæœå…±æœ‰**: QRã‚³ãƒ¼ãƒ‰ã‚„NFCã€URLã§ã®è¨ºæ–­çµæœã‚·ã‚§ã‚¢æ©Ÿèƒ½
- **ç¾ã—ã„UI**: ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒãƒ™ãƒ¼ã‚¹ã®æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³
- **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é…æ…®**: è¨ºæ–­çµæœã¯7æ—¥å¾Œã«è‡ªå‹•å‰Šé™¤

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Framework**: Next.js 15.5.0 (App Router + Turbopack)
- **Language**: TypeScript 5.0
- **Styling**: Tailwind CSS 4.0
- **Animation**: Framer Motion 12.23, Three.js, GSAP 3.13
- **Icons**: Lucide React
- **Validation**: Zod 3.25

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **API Routes**: Next.js App Router API
- **AI Integration**: OpenAI API (GPT-4-turbo-preview)
- **Data Parsing**: Cheerio for Prairie Card scraping
- **Rate Limiting**: ã‚«ã‚¹ã‚¿ãƒ ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…
- **Error Handling**: æ§‹é€ åŒ–ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **Test Runner**: Jest 30.0
- **Testing Library**: React Testing Library 16.3
- **Coverage**: 63ãƒ†ã‚¹ãƒˆã€åŒ…æ‹¬çš„ãªã‚«ãƒãƒ¬ãƒ¼ã‚¸

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **Hosting**: Cloudflare Pages/Workerså¯¾å¿œ
- **Environment Validation**: Zodã«ã‚ˆã‚‹å‹å®‰å…¨ãªç’°å¢ƒå¤‰æ•°
- **API Security**: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã€CORSã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆIDè¿½è·¡
- **Secrets Management**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ã¿ã§ã®APIã‚­ãƒ¼ç®¡ç†

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å‰ææ¡ä»¶
- Node.js 20.0.0ä»¥ä¸Š
- npm 10.0.0ä»¥ä¸Š

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/tsukaman/cnd2-app.git
cd cnd2-app

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
cp .env.example .env.local
# .env.localã‚’ç·¨é›†ã—ã¦å¿…è¦ãªå€¤ã‚’è¨­å®š
```

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.local`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```bash
# OpenAI APIï¼ˆå¿…é ˆï¼‰
OPENAI_API_KEY=your-api-key-here

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ãã®ä»–ã®è¨­å®šã¯.env.exampleã‚’å‚ç…§
```

## ğŸ”§ é–‹ç™º

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ï¼ˆTurbopackä½¿ç”¨ï¼‰
npm run dev

# ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
npm test

# ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒ¼ã‚¸ã‚’ç¢ºèª
npm test -- --coverage

# ãƒªãƒ³ãƒˆå®Ÿè¡Œ
npm run lint

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check

# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
npm start
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
cnd2-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/                # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ diagnosis/      # è¨ºæ–­API
â”‚   â”‚   â”‚   â””â”€â”€ prairie/        # Prairie Card API
â”‚   â”‚   â”œâ”€â”€ (main)/            # ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ result/            # çµæœãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ layout.tsx         # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ components/             # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ diagnosis/         # è¨ºæ–­é–¢é€£
â”‚   â”‚   â”œâ”€â”€ prairie/           # Prairie Cardé–¢é€£
â”‚   â”‚   â”œâ”€â”€ share/             # å…±æœ‰æ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ ui/                # æ±ç”¨UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ hooks/                  # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ lib/                    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ api-middleware.ts  # APIãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ api-errors.ts      # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ env.ts             # ç’°å¢ƒå¤‰æ•°æ¤œè¨¼
â”‚   â”‚   â””â”€â”€ rate-limit.ts      # ãƒ¬ãƒ¼ãƒˆåˆ¶é™
â”‚   â””â”€â”€ types/                  # TypeScriptå‹å®šç¾©
â”œâ”€â”€ public/                     # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ __tests__/                  # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ package.json
```

### ä¸»è¦ãªå®Ÿè£…

#### APIãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ­ã‚®ãƒ³ã‚°
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ100ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆIDè¿½è·¡

#### è¨ºæ–­ã‚¨ãƒ³ã‚¸ãƒ³
- AIè¨ºæ–­ï¼ˆOpenAI GPT-4ï¼‰
- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹è¨ºæ–­ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹
- ä¸¦åˆ—å‡¦ç†å¯¾å¿œ

#### Prairie Cardé€£æº
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è‡ªå‹•å–å¾—
- ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–
- ã‚¨ãƒ©ãƒ¼å‡¦ç†

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
npm test

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œ
npm test -- src/lib/__tests__/api-middleware.test.ts

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm test -- --watch

# ã‚«ãƒãƒ¬ãƒ¼ã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
npm test -- --coverage
```

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒ¼ã‚¸
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ: âœ…
- ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ: âœ…
- APIãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãƒ†ã‚¹ãƒˆ: âœ…
- ç’°å¢ƒå¤‰æ•°æ¤œè¨¼ãƒ†ã‚¹ãƒˆ: âœ…

## ğŸ“š APIä»•æ§˜

### POST /api/diagnosis
Prairie Cardã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‹ã‚‰ç›¸æ€§è¨ºæ–­ã‚’ç”Ÿæˆ

```typescript
// ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
{
  profiles: PrairieProfile[],
  mode: 'duo' | 'group'
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  success: true,
  data: {
    result: DiagnosisResult,
    aiPowered: boolean
  }
}
```

### POST /api/prairie
Prairie Cardã®URLã‹ã‚‰ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’å–å¾—

```typescript
// ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
{
  url: string
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  success: true,
  data: {
    profile: PrairieProfile,
    cacheStats: CacheStats
  }
}
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **ç’°å¢ƒå¤‰æ•°æ¤œè¨¼**: Zodã«ã‚ˆã‚‹å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯
- **APIã‚­ãƒ¼ä¿è­·**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ã¿ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: æ‚ªç”¨é˜²æ­¢ã®ãŸã‚ã®åˆ¶é™æ©Ÿæ§‹
- **CORSè¨­å®š**: é©åˆ‡ãªã‚ªãƒªã‚¸ãƒ³åˆ¶å¾¡
- **XSSå¯¾ç­–**: Reactæ¨™æº–ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†
- **CSRFãƒˆãƒ¼ã‚¯ãƒ³**: Next.jsã®æ¨™æº–å®Ÿè£…

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Vercelï¼ˆæ¨å¥¨ï¼‰
```bash
# Vercel CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm i -g vercel

# ãƒ‡ãƒ—ãƒ­ã‚¤
vercel
```

### Cloudflare Pages
```bash
# ãƒ“ãƒ«ãƒ‰
npm run build

# outãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’Cloudflare Pagesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

### Docker
```bash
# ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
docker build -t cnd2-app .

# ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•
docker run -p 3000:3000 cnd2-app
```

## ğŸ¤ è²¢çŒ®

è²¢çŒ®ã‚’æ­“è¿ã—ã¾ã™ï¼è©³ç´°ã¯[CONTRIBUTING.md](./CONTRIBUTING.md)ã‚’ã”è¦§ãã ã•ã„ã€‚

1. ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'feat: Add amazing feature'`)
4. ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ‘¨â€ğŸ’» ä½œè€…

**ã¤ã‹ã¾ã‚“** - [@tsukaman](https://twitter.com/tsukaman)

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯Apache License 2.0ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯[LICENSE](./LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã”è¦§ãã ã•ã„ã€‚

## ğŸ™ è¬è¾

- [CloudNative Days Committee](https://cloudnativedays.jp/) - ã‚¤ãƒ™ãƒ³ãƒˆä¸»å‚¬
- [Prairie Card](https://prairie.cards/) - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ æä¾›ï¼ˆPowered by Prairie Cardï¼‰
- [Claude](https://claude.ai) - AIé–‹ç™ºã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¨ãƒ†ã‚¹ã‚¿ãƒ¼

## ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Production Ready
- **æœ€çµ‚æ›´æ–°**: 2025å¹´8æœˆ26æ—¥
- **ãƒ†ã‚¹ãƒˆ**: å…¨63ãƒ†ã‚¹ãƒˆåˆæ ¼ âœ…
- **ãƒ“ãƒ«ãƒ‰**: æˆåŠŸ âœ…

---

<div align="center">
  Made with â¤ï¸ for CloudNative Days Winter 2025
</div>